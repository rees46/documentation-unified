# Информация об участнике программы лояльности

Метод используется для проверки, является ли клиент участником программы лояльности, и, если является, какой у него уровень участника.

```
GET https://api.rees46.ru/loyalty/members/status
```


## Параметры

| Параметр    | Обязателен? | Описание                   |
|-------------|-------------|----------------------------|
| shop_id     | Да          | API-ключ                   |
| shop_secret | Да          | Секретный ключ API         |
| phone       | Да          | Идентификатор участника ПЛ |


## Запрос

Пример запроса:

```shell 
curl https://api.rees46.ru/loyalty/members/status?shop_id=...&shop_secret=...&identifier=...
```

## Ответ

Если клиент является участником программы лояльности и находится на одном из уровней ПЛ, кроме базового, ответ будет в таком формате:

```json
{
  "success": true,
  "payload": {
    "member": true,
    "level": {
      "name": "Gold",
      "code": "level_gold",
      "expiration_date": "2028-01-01"
    }
  }
}
```

Если клиент на базовом уровне программы лояльности, то ответ будет выглядеть так:

```json
{
  "success": true,
  "payload": {
    "member": true,
    "level": {
      "name": null,
      "code": null,
      "expiration_date": null
    }
  }
}
```

Если клиент не является участником программы лояльности, то ответ будет таким:

```json
{
  "success": true,
  "payload": {
    "member": false,
    "level": {
      "name": null,
      "code": null,
      "expiration_date": null
    }
  }
}
```


Расшифровка ответа:

| Параметр                      | Описание                                                                              |
|-------------------------------|---------------------------------------------------------------------------------------|
| success                       | Запрос выполнен успешно или нет                                                       |
| payload.member                | Флаг, обозначающий, является ли клиент участником ПЛ или нет                          |
| payload.level.name            | Название уровня программы лояльности                                                  |
| payload.level.code            | Уникальный код уровня программы лояльности                                            |
| payload.level.expiration_date | Срок действия уровня программы лояльности, после которого будет выполнен его пересчет |