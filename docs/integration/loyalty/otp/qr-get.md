# Получение QR-кода верификации 

QR-код – это способ проверки, что клиент является владельцем номера телефона (идентификатора программы лояльности) без отправки сообщений. Чаще всего используется для проверки на кассе, чтобы убедиться, что названный номер телефона принадлежит покупателю.

Данный способ используется, если у вас есть мобильное приложение и в нем вы отображаете QR-код, полученный данным методом. QR-код содержит идентификатор участника программы лояльности и его пин-код. Так как пин-код является секретной частью QR-кода, отображать его кассиру после расшифровки QR-кода не рекомендуется.

Данный метод возвращает строку, которую нужно сконвертировать в QR-код или штрих-код (в зависимости от того, какой формат поддерживают ваши сканеры штрих-кодов) и отобразить в интерфейсе приложения.

```
POST https://api.rees46.ru/loyalty/qr/get
```

## Параметры

| Параметр          | Обязателен? | Описание                                     |
|-------------------|-------------|----------------------------------------------|
| shop_id           | Да          | API-ключ                                     |
| shop_secret       | Да          | Секретный ключ API                           |
| identifier        | Да          | Идентификатор участника программы лояльности |

## Запрос

Пример запроса:

```shell 
curl --header "Content-Type: application/json" \
  --request POST \
  --data-binary "@payload.json" \
  https://api.rees46.ru/loyalty/qr/get
```

Пример JSON-тела:

```json payload.json
{
    "shop_id": "...",
    "shop_secret": "...",
    "identifier": "7XXXXXXXXX"
}
```


## Ответ

Пример ответа сервера:

```json 
{
  "success": true,
  "payload": {
    "code": "7XXXXXXXXXX-NNNN"
  }
}
```

В случае ошибки ответ будет в формате:

```json 
{
  "success": false,
  "payload": {
    "message": "Identifier is not valid"
  }
}
```
